<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checklist de Atendimento Escolar | Sistema T√©cnico</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4f46e5;
            --primary-light: #818cf8;
            --primary-dark: #3730a3;
            --secondary: #10b981;
            --secondary-light: #34d399;
            --secondary-dark: #059669;
            --accent: #f59e0b;
            --accent-light: #fbbf24;
            --danger: #ef4444;
            --danger-light: #fca5a5;
            --warning: #f59e0b;
            --success: #10b981;
            --dark: #1f2937;
            --dark-light: #374151;
            --light: #f9fafb;
            --gray: #9ca3af;
            --gray-light: #e5e7eb;
            --gray-dark: #4b5563;
            --card-bg: #ffffff;
            --card-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            --border-radius: 16px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            color: var(--dark);
            min-height: 100vh;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 35px 40px;
            text-align: center;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent), var(--secondary), var(--primary-light));
        }
        
        .header-content {
            position: relative;
            z-index: 2;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 15px;
            font-weight: 800;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.95;
            max-width: 700px;
            margin: 0 auto;
            font-weight: 400;
            color: rgba(255, 255, 255, 0.9);
        }
        
        /* Cards */
        .card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 35px;
            margin-bottom: 25px;
            box-shadow: var(--card-shadow);
            border: 1px solid rgba(0, 0, 0, 0.05);
            transition: var(--transition);
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px -15px rgba(0, 0, 0, 0.15);
        }
        
        /* Grid de escolas */
        .schools-container {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        .schools-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .search-box {
            position: relative;
            width: 350px;
        }
        
        .search-box input {
            width: 100%;
            padding: 15px 20px 15px 50px;
            border: 2px solid var(--gray-light);
            border-radius: 12px;
            font-size: 1rem;
            transition: var(--transition);
            background: white;
            font-weight: 500;
        }
        
        .search-box input:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.1);
        }
        
        .search-box i {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
            font-size: 1.1rem;
        }
        
        .schools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
        }
        
        .school-card {
            background: white;
            border-radius: 14px;
            padding: 25px;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid var(--gray-light);
            position: relative;
            overflow: hidden;
        }
        
        .school-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 6px;
            height: 100%;
            background: var(--gray);
            transition: var(--transition);
        }
        
        .school-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            border-color: var(--primary);
        }
        
        .school-card:hover::before {
            background: var(--primary);
        }
        
        .school-card.selected {
            border-color: var(--secondary);
            background: linear-gradient(to right, rgba(16, 185, 129, 0.03), white);
            transform: translateY(-5px);
        }
        
        .school-card.selected::before {
            background: var(--secondary);
        }
        
        .school-card h3 {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: var(--dark);
            font-weight: 700;
            line-height: 1.4;
        }
        
        /* Status indicators */
        .status-indicator {
            display: inline-flex;
            align-items: center;
            font-size: 0.9rem;
            font-weight: 600;
            padding: 8px 16px;
            border-radius: 24px;
            margin-top: 15px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);
        }
        
        .status-pendente {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            color: #92400e;
            border: 1px solid #fbbf24;
        }
        
        .status-andamento {
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            color: #1e40af;
            border: 1px solid #60a5fa;
        }
        
        .status-concluido {
            background: linear-gradient(135deg, #d1fae5, #a7f3d0);
            color: #065f46;
            border: 1px solid #34d399;
        }
        
        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 10px;
            box-shadow: 0 0 6px currentColor;
        }
        
        .status-pendente .status-dot { background: var(--warning); }
        .status-andamento .status-dot { background: var(--primary); }
        .status-concluido .status-dot { background: var(--success); }
        
        /* Checklist items styling - Novo design */
        .checklist-section {
            margin-bottom: 35px;
        }
        
        .section-title {
            font-size: 1.5rem;
            color: var(--dark);
            margin-bottom: 25px;
            padding-bottom: 12px;
            border-bottom: 3px solid var(--primary);
            display: flex;
            align-items: center;
            gap: 15px;
            font-weight: 700;
        }
        
        .section-title i {
            color: var(--primary);
            font-size: 1.8rem;
        }
        
        .section-subtitle {
            font-size: 1rem;
            color: var(--gray-dark);
            margin-bottom: 25px;
            font-weight: 500;
            line-height: 1.6;
            padding-left: 10px;
            border-left: 4px solid var(--gray-light);
            padding-left: 20px;
        }
        
        /* Grid layout para formul√°rios */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-group label {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            font-weight: 600;
            color: var(--dark);
            font-size: 1.05rem;
            gap: 10px;
        }
        
        .required::after {
            content: " *";
            color: var(--danger);
        }
        
        .input-with-icon {
            position: relative;
        }
        
        .input-with-icon i {
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
            font-size: 1.1rem;
        }
        
        input[type="date"],
        input[type="number"],
        input[type="text"],
        textarea,
        select {
            width: 100%;
            padding: 16px 20px 16px 50px;
            border: 2px solid var(--gray-light);
            border-radius: 12px;
            font-size: 1rem;
            transition: var(--transition);
            background-color: white;
            font-weight: 500;
            color: var(--dark);
        }
        
        input:focus,
        textarea:focus,
        select:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.1);
            background-color: #fafafa;
        }
        
        textarea {
            min-height: 140px;
            resize: vertical;
            line-height: 1.6;
        }
        
        /* Toggle switch - Design aprimorado */
        .toggle-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            padding: 20px;
            border-radius: 14px;
            background: linear-gradient(to right, #f8fafc, #ffffff);
            border: 1px solid var(--gray-light);
            transition: var(--transition);
        }
        
        .toggle-container:hover {
            background: linear-gradient(to right, #f1f5f9, #ffffff);
            border-color: var(--primary-light);
        }
        
        .toggle-label {
            font-weight: 600;
            color: var(--dark);
            flex: 1;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .toggle-label i {
            color: var(--primary);
            font-size: 1.3rem;
        }
        
        .toggle-switch {
            position: relative;
            width: 68px;
            height: 34px;
        }
        
        .toggle-switch input {
            display: none;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--gray);
            transition: var(--transition);
            border-radius: 34px;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: var(--transition);
            border-radius: 50%;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        input:checked + .toggle-slider {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(34px);
        }
        
        /* Checkbox styling - Design moderno */
        .checkbox-container {
            display: flex;
            align-items: center;
            margin-bottom: 18px;
            padding: 18px;
            border-radius: 12px;
            background: linear-gradient(to right, #f8fafc, #ffffff);
            border: 1px solid var(--gray-light);
            transition: var(--transition);
            cursor: pointer;
        }
        
        .checkbox-container:hover {
            background: linear-gradient(to right, #f1f5f9, #ffffff);
            border-color: var(--primary-light);
            transform: translateX(5px);
        }
        
        .checkbox-container input[type="checkbox"] {
            margin-right: 18px;
            width: 22px;
            height: 22px;
            cursor: pointer;
            accent-color: var(--primary);
            transform: scale(1.2);
        }
        
        .checkbox-container label {
            margin-bottom: 0;
            cursor: pointer;
            flex: 1;
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        .checkbox-container label i {
            color: var(--primary);
            font-size: 1.3rem;
        }
        
        /* Campo de upload de imagem */
        .image-upload-container {
            margin: 25px 0;
            padding: 25px;
            background: linear-gradient(to right, #f8fafc, #ffffff);
            border: 2px dashed var(--gray-light);
            border-radius: 14px;
            text-align: center;
            transition: var(--transition);
        }
        
        .image-upload-container:hover {
            border-color: var(--primary);
            background: linear-gradient(to right, #f1f5f9, #ffffff);
        }
        
        .image-upload-container label {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            cursor: pointer;
        }
        
        .image-upload-container i {
            font-size: 2.5rem;
            color: var(--primary);
        }
        
        .image-upload-text {
            font-weight: 600;
            color: var(--dark);
        }
        
        .image-upload-subtext {
            font-size: 0.9rem;
            color: var(--gray-dark);
        }
        
        #print-velocidade {
            display: none;
        }
        
        .image-preview-container {
            margin-top: 20px;
            display: none;
        }
        
        .image-preview {
            max-width: 100%;
            max-height: 300px;
            border-radius: 12px;
            border: 2px solid var(--gray-light);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .remove-image-btn {
            margin-top: 15px;
            padding: 10px 20px;
            background: var(--danger-light);
            color: var(--danger);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
        }
        
        .remove-image-btn:hover {
            background: var(--danger);
            color: white;
        }
        
        /* Buttons - Design moderno */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            padding: 18px 32px;
            border: none;
            border-radius: 14px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 700;
            transition: var(--transition);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            letter-spacing: 0.5px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
        }
        
        .btn-success {
            background: linear-gradient(135deg, var(--secondary), var(--secondary-dark));
            color: white;
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, var(--danger), #dc2626);
            color: white;
        }
        
        .btn:hover:not(:disabled) {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }
        
        .btn:active:not(:disabled) {
            transform: translateY(-2px);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }
        
        .btn-group {
            display: flex;
            gap: 20px;
            margin-top: 40px;
            flex-wrap: wrap;
        }
        
        /* Progress bar - Design aprimorado */
        .progress-container {
            background: var(--gray-light);
            border-radius: 14px;
            height: 20px;
            overflow: hidden;
            margin: 30px 0;
            position: relative;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--primary-light), var(--secondary));
            width: 0%;
            transition: var(--transition);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 14px;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: shimmer 2.5s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .progress-text {
            text-align: center;
            font-weight: 700;
            color: var(--dark);
            margin-top: 15px;
            font-size: 1.2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .progress-stats {
            font-size: 1rem;
            color: var(--gray-dark);
            font-weight: 600;
            background: var(--gray-light);
            padding: 8px 16px;
            border-radius: 20px;
        }
        
        /* Validation messages */
        .validation-message {
            color: var(--danger);
            font-size: 0.9rem;
            margin-top: 8px;
            display: none;
            font-weight: 600;
            padding-left: 10px;
            border-left: 3px solid var(--danger);
        }
        
        .validation-message.show {
            display: flex;
            align-items: center;
            gap: 8px;
            animation: shake 0.4s;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-8px); }
            75% { transform: translateX(8px); }
        }
        
        .input-error {
            border-color: var(--danger) !important;
            background-color: #fef2f2 !important;
        }
        
        .input-error:focus {
            box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.1) !important;
        }
        
        /* Success message */
        .success-message {
            background: linear-gradient(135deg, #d1fae5, #a7f3d0);
            color: #065f46;
            padding: 20px;
            border-radius: 14px;
            margin: 20px 0;
            display: none;
            align-items: center;
            gap: 15px;
            font-weight: 700;
            border: 2px solid #34d399;
            font-size: 1.1rem;
            box-shadow: 0 5px 15px rgba(16, 185, 129, 0.2);
        }
        
        .success-message.show {
            display: flex;
            animation: slideIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        @keyframes slideIn {
            0% { opacity: 0; transform: translateY(-20px) scale(0.9); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }
        
        /* Footer */
        .footer {
            text-align: center;
            margin-top: 50px;
            color: var(--gray-dark);
            font-size: 0.95rem;
            padding-top: 25px;
            border-top: 2px solid var(--gray-light);
        }
        
        /* Responsive */
        @media (max-width: 992px) {
            .schools-grid {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
                gap: 20px;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .card {
                padding: 25px;
            }
            
            .schools-grid {
                grid-template-columns: 1fr;
            }
            
            .schools-header {
                flex-direction: column;
                gap: 20px;
                align-items: stretch;
            }
            
            .search-box {
                width: 100%;
            }
            
            .btn-group {
                flex-direction: column;
            }
            
            h1 {
                font-size: 2.2rem;
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .section-title {
                font-size: 1.3rem;
            }
        }
        
        /* Checklist visibility */
        #checklist-section {
            display: none;
        }
        
        #checklist-section.active {
            display: block;
            animation: fadeIn 0.6s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-flex;
            margin-left: 8px;
        }
        
        .tooltip .tooltip-text {
            visibility: hidden;
            width: 240px;
            background: var(--dark);
            color: white;
            text-align: left;
            border-radius: 10px;
            padding: 14px;
            position: absolute;
            z-index: 100;
            bottom: 150%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: var(--transition);
            font-size: 0.9rem;
            font-weight: normal;
            line-height: 1.5;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .tooltip .tooltip-text::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--dark) transparent transparent transparent;
        }
        
        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
            transform: translateX(-50%) translateY(-5px);
        }
        
        /* Floating action button */
        .fab {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(79, 70, 229, 0.4);
            transition: var(--transition);
            z-index: 100;
            border: none;
        }
        
        .fab:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 12px 30px rgba(79, 70, 229, 0.5);
        }
        
        /* Badges */
        .badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 700;
            margin-left: 12px;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
        }
        
        .badge-success {
            background: linear-gradient(135deg, var(--secondary), var(--secondary-dark));
            color: white;
        }
        
        .badge-warning {
            background: linear-gradient(135deg, var(--warning), #d97706);
            color: white;
        }
        
        .badge-info {
            background: linear-gradient(135deg, var(--primary-light), var(--primary));
            color: white;
        }
        
        /* Loading spinner */
        .spinner {
            display: inline-block;
            width: 24px;
            height: 24px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Stats cards */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            border-radius: 14px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--gray-light);
            transition: var(--transition);
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .stat-label {
            font-size: 1rem;
            color: var(--gray-dark);
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1><i class="fas fa-clipboard-check"></i> Checklist de Atendimento Escolar</h1>
                <p class="subtitle">Sistema completo para verifica√ß√£o e registro de infraestrutura escolar t√©cnica</p>
            </div>
        </header>
        
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-value" id="total-escolas">0</div>
                <div class="stat-label">Escolas Cadastradas</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="concluidas-count">0</div>
                <div class="stat-label">Checklists Conclu√≠dos</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="andamento-count">0</div>
                <div class="stat-label">Em Andamento</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="pendentes-count">0</div>
                <div class="stat-label">Pendentes</div>
            </div>
        </div>
        
        <div class="card fade-in">
            <div class="schools-header">
                <h2 class="section-title"><i class="fas fa-school"></i> Selecionar Escola</h2>
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="search-school" placeholder="Buscar por nome da escola...">
                </div>
            </div>
            
            <div class="schools-container">
                <div class="schools-grid" id="schools-list">
                    <!-- As escolas ser√£o inseridas aqui via JavaScript -->
                </div>
            </div>
        </div>
        
        <div id="checklist-section">
            <div class="success-message" id="save-success">
                <i class="fas fa-check-circle"></i>
                <span>Checklist salvo com sucesso!</span>
            </div>
            
            <div class="card fade-in">
                <h2 class="section-title"><i class="fas fa-info-circle"></i> Informa√ß√µes Gerais</h2>
                <p class="section-subtitle">Preencha os dados b√°sicos do atendimento t√©cnico realizado na escola.</p>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="escola-selecionada" class="required"><i class="fas fa-university"></i> Escola Selecionada</label>
                        <div class="input-with-icon">
                            <i class="fas fa-school"></i>
                            <input type="text" id="escola-selecionada" readonly style="background-color: #f8fafc; font-weight: 700;">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="data-atendimento" class="required"><i class="fas fa-calendar-alt"></i> Data do Atendimento</label>
                        <div class="input-with-icon">
                            <i class="fas fa-calendar"></i>
                            <input type="date" id="data-atendimento" name="data-atendimento">
                        </div>
                        <div class="validation-message" id="data-error">
                            <i class="fas fa-exclamation-circle"></i> Por favor, selecione uma data v√°lida
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="tecnico-responsavel"><i class="fas fa-user-tie"></i> T√©cnico Respons√°vel</label>
                        <div class="input-with-icon">
                            <i class="fas fa-user"></i>
                            <input type="text" id="tecnico-responsavel" name="tecnico-responsavel" placeholder="Nome completo do t√©cnico respons√°vel">
                        </div>
                    </div>
                </div>
                
                <div class="progress-container">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
                <div class="progress-text">
                    <span id="progress-text">0% Conclu√≠do</span>
                    <span class="progress-stats" id="progress-stats">0 de 9 itens preenchidos</span>
                </div>
            </div>
            
            <div class="card fade-in">
                <h2 class="section-title"><i class="fas fa-server"></i> Infraestrutura e Equipamentos</h2>
                <p class="section-subtitle">Verifique e registre o estado da infraestrutura de TI da escola.</p>
                
                <div class="toggle-container">
                    <div class="toggle-label">
                        <i class="fas fa-flask"></i>
                        <span>Laborat√≥rio de Inform√°tica existente</span>
                        <span class="tooltip">
                            <i class="fas fa-question-circle"></i>
                            <span class="tooltip-text">Verifique se a escola possui um laborat√≥rio de inform√°tica funcional e em condi√ß√µes de uso.</span>
                        </span>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="existencia-lab" name="existencia-lab">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="qtd-computador-lab"><i class="fas fa-desktop"></i> Computadores no Laborat√≥rio</label>
                        <div class="input-with-icon">
                            <i class="fas fa-desktop"></i>
                            <input type="number" id="qtd-computador-lab" name="qtd-computador-lab" min="0" value="0">
                        </div>
                        <div class="validation-message" id="lab-error">
                            <i class="fas fa-exclamation-circle"></i> Quantidade inv√°lida (deve ser um n√∫mero positivo)
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="adm-qtd-computador"><i class="fas fa-building"></i> Computadores no ADM</label>
                        <div class="input-with-icon">
                            <i class="fas fa-desktop"></i>
                            <input type="number" id="adm-qtd-computador" name="adm-qtd-computador" min="0" value="0">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="adm-qtd-impressora"><i class="fas fa-print"></i> Impressoras no ADM</label>
                        <div class="input-with-icon">
                            <i class="fas fa-print"></i>
                            <input type="number" id="adm-qtd-impressora" name="adm-qtd-impressora" min="0" value="0">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="qtd-comp-sala-prof"><i class="fas fa-chalkboard-teacher"></i> Computadores na Sala dos Professores</label>
                        <div class="input-with-icon">
                            <i class="fas fa-desktop"></i>
                            <input type="number" id="qtd-comp-sala-prof" name="qtd-comp-sala-prof" min="0" value="0">
                        </div>
                    </div>
                </div>
                
                <div class="checkbox-container">
                    <input type="checkbox" id="educacao-conectada" name="educacao-conectada">
                    <label for="educacao-conectada">
                        <i class="fas fa-wifi"></i>
                        <span>Educa√ß√£o Conectada (Internet funcionando)</span>
                        <span class="tooltip">
                            <i class="fas fa-question-circle"></i>
                            <span class="tooltip-text">Verifique se a conex√£o de internet est√° funcionando adequadamente para atividades pedag√≥gicas.</span>
                        </span>
                    </label>
                </div>
                
                <div class="checkbox-container">
                    <input type="checkbox" id="voip" name="voip">
                    <label for="voip">
                        <i class="fas fa-phone"></i>
                        <span>Telefonia VoIP funcionando</span>
                        <span class="tooltip">
                            <i class="fas fa-question-circle"></i>
                            <span class="tooltip-text">Verifique se o sistema de telefonia VoIP (voz sobre IP) est√° operacional.</span>
                        </span>
                    </label>
                </div>
                
                <!-- Campo para upload de print da velocidade da internet -->
                <div class="image-upload-container">
                    <label for="print-velocidade">
                        <i class="fas fa-tachometer-alt"></i>
                        <div class="image-upload-text">Print da Velocidade da Internet (Opcional)</div>
                        <div class="image-upload-subtext">Clique para fazer upload de um print do teste de velocidade</div>
                    </label>
                    <input type="file" id="print-velocidade" accept="image/*">
                    <div class="image-preview-container" id="image-preview-container">
                        <img class="image-preview" id="image-preview" src="" alt="Preview da imagem">
                        <button type="button" class="remove-image-btn" id="remove-image-btn">
                            <i class="fas fa-trash"></i> Remover Imagem
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="card fade-in">
                <h2 class="section-title"><i class="fas fa-sticky-note"></i> Observa√ß√µes e Coment√°rios</h2>
                <p class="section-subtitle">Registre observa√ß√µes importantes, problemas encontrados e sugest√µes de melhorias.</p>
                
                <div class="form-group">
                    <div class="input-with-icon">
                        <i class="fas fa-comment-alt"></i>
                        <textarea id="observacoes" name="observacoes" placeholder="Descreva aqui quaisquer observa√ß√µes relevantes sobre o atendimento, problemas encontrados, necessidades de manuten√ß√£o, sugest√µes, etc..."></textarea>
                    </div>
                    <div style="font-size: 0.9rem; color: var(--gray-dark); margin-top: 10px; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-lightbulb" style="color: var(--accent);"></i>
                        <span>Dica: Inclua detalhes sobre problemas espec√≠ficos e sugest√µes de melhorias.</span>
                    </div>
                </div>
            </div>
            
            <div class="card fade-in">
                <h2 class="section-title"><i class="fas fa-tasks"></i> Status e Pr√≥ximos Passos</h2>
                <p class="section-subtitle">Defina o status atual do atendimento e agende a pr√≥xima visita, se necess√°rio.</p>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="status-geral"><i class="fas fa-flag"></i> Status Geral do Atendimento</label>
                        <select id="status-geral" name="status-geral">
                            <option value="pendente">‚è≥ Pendente</option>
                            <option value="andamento">üîÑ Em Andamento</option>
                            <option value="concluido">‚úÖ Conclu√≠do</option>
                            <option value="pendente-corr">‚ö†Ô∏è Pendente com Corre√ß√µes</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="proxima-visita"><i class="fas fa-calendar-check"></i> Pr√≥xima Visita Sugerida</label>
                        <div class="input-with-icon">
                            <i class="fas fa-calendar-check"></i>
                            <input type="date" id="proxima-visita" name="proxima-visita">
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="salvar-checklist">
                    <i class="fas fa-save"></i> Salvar Checklist
                </button>
                <button class="btn btn-outline" id="visualizar-checklist">
                    <i class="fas fa-eye"></i> Visualizar Relat√≥rio
                </button>
                <button class="btn btn-danger" id="limpar-checklist">
                    <i class="fas fa-eraser"></i> Limpar Formul√°rio
                </button>
            </div>
        </div>
        
        <div class="footer">
            <p>Sistema de Checklist de Atendimento Escolar &copy; 2023 | Vers√£o 4.0 | Desenvolvido para suporte t√©cnico escolar</p>
            <p style="margin-top: 15px; font-size: 0.9rem; color: var(--gray); display: flex; align-items: center; justify-content: center; gap: 10px;">
                <i class="fas fa-shield-alt"></i> Seus dados s√£o salvos localmente no seu navegador
                <i class="fas fa-mobile-alt"></i> Design responsivo para todos os dispositivos
            </p>
        </div>
    </div>

    <button class="fab" id="scroll-top" title="Voltar ao topo">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Lista de escolas
            const escolas = [
                "COL√âGIO ESTADUAL COELHO E CAMPOS",
                "CENTRO DE EXCEL√äNCIA EDELZIO VIEIRA DE MELO",
                "COL√âGIO ESTADUAL IRM√É MARIA CLEM√äNCIA",
                "ESCOLA ESTADUAL MARIA DA GLORIA MOTA CABRAL",
                "ESCOLA ESTADUAL MONSENHOR ERALDO BARBOSA DE ALMEIDA",
                "ESCOLA ESTADUAL PROF¬™ MARIA BERENICE B. ALVES",
                "CENTRO ESTADUAL DE EDUCA√á√ÉO PROFISSIONAL GOVERNADOR MARCELO D√âDA CHAGAS",
                "COL√âGIO ESTADUAL POETA JOS√â SAMPAIO",
                "CENTRO DE EXCEL√äNCIA DOUTOR JO√ÉO DE MELO PRADO",
                "CENTRO DE EXCEL√äNCIA PROFESSORA MARIA CONCEI√á√ÉO DE SANTANA",
                "CENTRO DE EXCEL√äNCIA SENADOR GON√áALO ROLLEMBERG",
                "COL√âGIO ESTADUAL JOS√â DE MATOS TELES",
                "COL√âGIO ESTADUAL JOS√â AMARAL LEMOS",
                "CENTRO DE EXCEL√äNCIA LEANDRO MACIEL",
                "CENTRO DE EXCEL√äNCIA 'DR. EDELZIO VIEIRA DE MELO'",
                "CENTRO DE EXCEL√äNCIA CORONEL JOS√ä JOAQUIM BARBOSA",
                "COL√âGIO ESTADUAL FRANCISCO FIGUEIREDO",
                "CENTRO DE EXCEL√äNCIA DE EDUCA√á√ÉO EM TEMPO INTEGRAL NA√á√ïES UNIDAS",
                "ESCOLA ESTADUAL MILTON AZEVEDO",
                "COL√âGIO ESTADUAL ALCEB√çADES PAES",
                "CENTRO DE EXCEL√äNCIA DE EDUCA√á√ÉO EM TEMPO INTEGRAL MARIA MONTESSORI",
                "COL√âGIO ESTADUAL MANOEL ALCINO DO NASCIMENTO",
                "CENTRO DE EXCEL√äNCIA MARIA DAS GRA√áAS MENEZES MOURA",
                "CENTRO DE EXCEL√äNCIA EDUCA√á√ÉO PROFISSIONALIZANTE BERILA ALVES DE ALMEIDA",
                "COL√âGIO ESTADUAL GENERAL CALAZANS",
                "COL√âGIO ESTADUAL PROFESSOR FERNANDO AZEVEDO"
            ];
            
            // Objeto para armazenar os dados de cada escola (com localStorage)
            let dadosEscolas = {};
            
            // Vari√°vel para armazenar imagem em base64
            let imagemVelocidadeBase64 = null;
            
            // Carregar dados salvos do localStorage
            function carregarDadosSalvos() {
                const dadosSalvos = localStorage.getItem('checklistEscolas');
                if (dadosSalvos) {
                    dadosEscolas = JSON.parse(dadosSalvos);
                } else {
                    // Inicializar dados para cada escola
                    escolas.forEach(escola => {
                        dadosEscolas[escola] = {
                            dataAtendimento: '',
                            existenciaLab: false,
                            qtdComputadorLab: 0,
                            admQtdComputador: 0,
                            admQtdImpressora: 0,
                            qtdCompSalaProf: 0,
                            educacaoConectada: false,
                            voip: false,
                            observacoes: '',
                            tecnicoResponsavel: '',
                            statusGeral: 'pendente',
                            proximaVisita: '',
                            dataSalvamento: '',
                            progresso: 0,
                            imagemVelocidade: null
                        };
                    });
                }
                
                // Atualizar estat√≠sticas
                atualizarEstatisticas();
            }
            
            // Salvar dados no localStorage
            function salvarDadosLocalStorage() {
                localStorage.setItem('checklistEscolas', JSON.stringify(dadosEscolas));
            }
            
            // Atualizar estat√≠sticas
            function atualizarEstatisticas() {
                let concluidas = 0;
                let andamento = 0;
                let pendentes = 0;
                
                escolas.forEach(escola => {
                    const dados = dadosEscolas[escola];
                    const progresso = dados.progresso || 0;
                    
                    if (progresso === 100) {
                        concluidas++;
                    } else if (progresso > 0 && progresso < 100) {
                        andamento++;
                    } else {
                        pendentes++;
                    }
                });
                
                document.getElementById('total-escolas').textContent = escolas.length;
                document.getElementById('concluidas-count').textContent = concluidas;
                document.getElementById('andamento-count').textContent = andamento;
                document.getElementById('pendentes-count').textContent = pendentes;
            }
            
            // Inicializar dados
            carregarDadosSalvos();
            
            // Preencher a lista de escolas
            const schoolsList = document.getElementById('schools-list');
            
            function atualizarListaEscolas() {
                // Limpar lista
                schoolsList.innerHTML = '';
                
                // Obter termo de busca
                const searchTerm = document.getElementById('search-school').value.toLowerCase();
                
                // Filtrar escolas
                const escolasFiltradas = escolas.filter(escola => 
                    escola.toLowerCase().includes(searchTerm)
                );
                
                // Adicionar escolas filtradas
                escolasFiltradas.forEach((escola) => {
                    const dados = dadosEscolas[escola];
                    const progresso = dados.progresso || 0;
                    const status = determinarStatusEscola(dados, progresso);
                    
                    // Card da escola
                    const schoolCard = document.createElement('div');
                    schoolCard.className = 'school-card';
                    schoolCard.dataset.escola = escola;
                    schoolCard.dataset.status = status;
                    
                    let statusText, statusClass;
                    if (status === 'concluido') {
                        statusText = 'Conclu√≠do';
                        statusClass = 'status-concluido';
                    } else if (status === 'andamento') {
                        statusText = 'Em Andamento';
                        statusClass = 'status-andamento';
                    } else {
                        statusText = 'Pendente';
                        statusClass = 'status-pendente';
                    }
                    
                    schoolCard.innerHTML = `
                        <h3>${escola}</h3>
                        <div class="status-indicator ${statusClass}">
                            <span class="status-dot"></span>
                            ${statusText}
                        </div>
                        <div style="margin-top: 20px; display: flex; justify-content: space-between; align-items: center;">
                            <span style="font-size: 0.9rem; color: #666; display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-chart-line" style="color: var(--primary);"></i> 
                                <span style="font-weight: 700;">${progresso}%</span> conclu√≠do
                            </span>
                            <span style="font-size: 0.85rem; color: var(--gray); background: var(--gray-light); padding: 5px 12px; border-radius: 12px;">
                                ${dados.dataAtendimento ? formatarData(dados.dataAtendimento) : 'Nunca atendida'}
                            </span>
                        </div>
                    `;
                    
                    schoolsList.appendChild(schoolCard);
                });
                
                // Mostrar mensagem se nenhuma escola for encontrada
                if (escolasFiltradas.length === 0) {
                    schoolsList.innerHTML = `
                        <div style="grid-column: 1 / -1; text-align: center; padding: 60px 20px; color: var(--gray);">
                            <i class="fas fa-search" style="font-size: 3.5rem; margin-bottom: 20px; color: var(--gray-light);"></i>
                            <h3 style="margin-bottom: 15px; color: var(--dark);">Nenhuma escola encontrada</h3>
                            <p style="max-width: 500px; margin: 0 auto;">Tente buscar com outros termos ou verifique se o nome est√° correto.</p>
                        </div>
                    `;
                }
            }
            
            // Inicializar lista de escolas
            atualizarListaEscolas();
            
            // Busca de escolas
            document.getElementById('search-school').addEventListener('input', atualizarListaEscolas);
            
            // Bot√£o de voltar ao topo
            document.getElementById('scroll-top').addEventListener('click', function() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
            
            // Mostrar/ocultar bot√£o de voltar ao topo
            window.addEventListener('scroll', function() {
                const scrollTopBtn = document.getElementById('scroll-top');
                if (window.scrollY > 500) {
                    scrollTopBtn.style.display = 'flex';
                } else {
                    scrollTopBtn.style.display = 'none';
                }
            });
            
            // Definir data atual como padr√£o
            const hoje = new Date().toISOString().split('T')[0];
            document.getElementById('data-atendimento').value = hoje;
            document.getElementById('proxima-visita').value = '';
            
            // Vari√°vel para armazenar a escola atualmente selecionada
            let escolaAtual = '';
            
            // Selecionar escola (delega√ß√£o de eventos)
            document.addEventListener('click', function(e) {
                const schoolCard = e.target.closest('.school-card');
                if (schoolCard) {
                    escolaAtual = schoolCard.dataset.escola;
                    
                    // Atualizar o campo da escola selecionada
                    document.getElementById('escola-selecionada').value = escolaAtual;
                    
                    // Destacar a escola selecionada
                    document.querySelectorAll('.school-card').forEach(card => {
                        card.classList.remove('selected');
                    });
                    schoolCard.classList.add('selected');
                    
                    // Mostrar a se√ß√£o do checklist
                    document.getElementById('checklist-section').classList.add('active');
                    
                    // Carregar dados salvos da escola selecionada
                    carregarDadosEscola(escolaAtual);
                    
                    // Validar dados
                    validarFormulario();
                    
                    // Rolar para o checklist
                    document.getElementById('checklist-section').scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
            
            // Calcular progresso de uma escola
            function calcularProgressoEscola(dados) {
                const campos = [
                    { nome: 'dataAtendimento', tipo: 'string', obrigatorio: true },
                    { nome: 'qtdComputadorLab', tipo: 'number', obrigatorio: false },
                    { nome: 'admQtdComputador', tipo: 'number', obrigatorio: false },
                    { nome: 'admQtdImpressora', tipo: 'number', obrigatorio: false },
                    { nome: 'qtdCompSalaProf', tipo: 'number', obrigatorio: false },
                    { nome: 'existenciaLab', tipo: 'boolean', obrigatorio: false },
                    { nome: 'educacaoConectada', tipo: 'boolean', obrigatorio: false },
                    { nome: 'voip', tipo: 'boolean', obrigatorio: false },
                    { nome: 'observacoes', tipo: 'string', obrigatorio: false }
                ];
                
                let camposPreenchidos = 0;
                
                campos.forEach(campo => {
                    let preenchido = false;
                    
                    if (campo.tipo === 'boolean') {
                        preenchido = dados[campo.nome] === true;
                    } else if (campo.tipo === 'number') {
                        preenchido = parseInt(dados[campo.nome]) > 0;
                    } else if (campo.tipo === 'string') {
                        if (campo.nome === 'observacoes') {
                            preenchido = dados[campo.nome] && dados[campo.nome].trim().length >= 10;
                        } else {
                            preenchido = dados[campo.nome] && dados[campo.nome].trim() !== '';
                        }
                    }
                    
                    if (preenchido) camposPreenchidos++;
                });
                
                return Math.round((camposPreenchidos / campos.length) * 100);
            }
            
            // Determinar status da escola
            function determinarStatusEscola(dados, progresso) {
                if (progresso === 100) return 'concluido';
                if (progresso > 0 && progresso < 100) return 'andamento';
                return 'pendente';
            }
            
            // Formatar data para exibi√ß√£o - CORRE√á√ÉO: Lidar corretamente com datas ISO
            function formatarData(dataString) {
                if (!dataString) return '';
                
                // Se j√° estiver no formato brasileiro, retornar como est√°
                if (dataString.includes('/')) {
                    return dataString;
                }
                
                // Se for uma string ISO ou formato YYYY-MM-DD
                let data;
                if (dataString.includes('T')) {
                    // Formato ISO com hora
                    data = new Date(dataString);
                } else {
                    // Formato YYYY-MM-DD
                    const partes = dataString.split('-');
                    if (partes.length === 3) {
                        data = new Date(partes[0], partes[1] - 1, partes[2]);
                    } else {
                        data = new Date(dataString);
                    }
                }
                
                // Verificar se a data √© v√°lida
                if (isNaN(data.getTime())) {
                    return dataString; // Retorna original se n√£o puder converter
                }
                
                // Formatar para DD/MM/YYYY
                const dia = String(data.getDate()).padStart(2, '0');
                const mes = String(data.getMonth() + 1).padStart(2, '0');
                const ano = data.getFullYear();
                
                return `${dia}/${mes}/${ano}`;
            }
            
            // Atualizar barra de progresso e estat√≠sticas
            function atualizarProgresso() {
                const campos = [
                    { id: 'data-atendimento', tipo: 'date', obrigatorio: true },
                    { id: 'qtd-computador-lab', tipo: 'number', obrigatorio: false },
                    { id: 'adm-qtd-computador', tipo: 'number', obrigatorio: false },
                    { id: 'adm-qtd-impressora', tipo: 'number', obrigatorio: false },
                    { id: 'qtd-comp-sala-prof', tipo: 'number', obrigatorio: false },
                    { id: 'existencia-lab', tipo: 'checkbox', obrigatorio: false },
                    { id: 'educacao-conectada', tipo: 'checkbox', obrigatorio: false },
                    { id: 'voip', tipo: 'checkbox', obrigatorio: false },
                    { id: 'observacoes', tipo: 'textarea', obrigatorio: false }
                ];
                
                let camposPreenchidos = 0;
                let totalCampos = campos.length;
                
                campos.forEach(campo => {
                    const elemento = document.getElementById(campo.id);
                    let preenchido = false;
                    
                    if (campo.tipo === 'checkbox') {
                        preenchido = elemento.checked;
                    } else if (campo.tipo === 'number') {
                        preenchido = parseInt(elemento.value) > 0;
                    } else if (campo.tipo === 'textarea') {
                        preenchido = elemento.value.trim().length >= 10;
                    } else if (campo.tipo === 'date') {
                        preenchido = elemento.value !== '';
                    }
                    
                    if (preenchido) camposPreenchidos++;
                });
                
                const percentual = Math.round((camposPreenchidos / totalCampos) * 100);
                
                // Atualizar barra de progresso
                document.getElementById('progress-bar').style.width = `${percentual}%`;
                document.getElementById('progress-text').textContent = `${percentual}% Conclu√≠do`;
                document.getElementById('progress-stats').textContent = `${camposPreenchidos} de ${totalCampos} itens preenchidos`;
                
                // Atualizar status na escola selecionada
                if (escolaAtual) {
                    atualizarStatusEscolaNaLista(escolaAtual, percentual);
                }
                
                return percentual;
            }
            
            // Atualizar status da escola na lista
            function atualizarStatusEscolaNaLista(escola, progresso) {
                const status = progresso === 100 ? 'concluido' : (progresso > 0 ? 'andamento' : 'pendente');
                const statusText = progresso === 100 ? 'Conclu√≠do' : (progresso > 0 ? 'Em Andamento' : 'Pendente');
                const statusClass = progresso === 100 ? 'status-concluido' : (progresso > 0 ? 'status-andamento' : 'status-pendente');
                
                // Atualizar o card da escola
                const schoolCard = document.querySelector(`.school-card[data-escola="${escola}"]`);
                if (schoolCard) {
                    schoolCard.dataset.status = status;
                    const statusElement = schoolCard.querySelector('.status-indicator');
                    statusElement.className = `status-indicator ${statusClass}`;
                    statusElement.innerHTML = `<span class="status-dot"></span> ${statusText}`;
                    
                    // Atualizar progresso
                    const progressElement = schoolCard.querySelector('.fa-chart-line').parentElement;
                    progressElement.innerHTML = `<i class="fas fa-chart-line" style="color: var(--primary);"></i> <span style="font-weight: 700;">${progresso}%</span> conclu√≠do`;
                }
            }
            
            // Adicionar listeners para atualizar o progresso
            document.querySelectorAll('input, textarea, select').forEach(element => {
                element.addEventListener('input', atualizarProgresso);
                element.addEventListener('change', atualizarProgresso);
            });
            
            // Inicializar barra de progresso
            atualizarProgresso();
            
            // Fun√ß√£o para carregar dados de uma escola espec√≠fica
            function carregarDadosEscola(escola) {
                const dados = dadosEscolas[escola];
                
                // CORRE√á√ÉO: Garantir que a data seja mostrada corretamente no formato YYYY-MM-DD
                if (dados.dataAtendimento) {
                    // Converter data de DD/MM/YYYY para YYYY-MM-DD se necess√°rio
                    let dataParaInput = dados.dataAtendimento;
                    if (dados.dataAtendimento.includes('/')) {
                        const partes = dados.dataAtendimento.split('/');
                        if (partes.length === 3) {
                            dataParaInput = `${partes[2]}-${partes[1]}-${partes[0]}`;
                        }
                    }
                    document.getElementById('data-atendimento').value = dataParaInput;
                } else {
                    document.getElementById('data-atendimento').value = hoje;
                }
                
                document.getElementById('existencia-lab').checked = dados.existenciaLab;
                document.getElementById('qtd-computador-lab').value = dados.qtdComputadorLab;
                document.getElementById('adm-qtd-computador').value = dados.admQtdComputador;
                document.getElementById('adm-qtd-impressora').value = dados.admQtdImpressora;
                document.getElementById('qtd-comp-sala-prof').value = dados.qtdCompSalaProf;
                document.getElementById('educacao-conectada').checked = dados.educacaoConectada;
                document.getElementById('voip').checked = dados.voip;
                document.getElementById('observacoes').value = dados.observacoes;
                document.getElementById('tecnico-responsavel').value = dados.tecnicoResponsavel || '';
                document.getElementById('status-geral').value = dados.statusGeral || 'pendente';
                
                // CORRE√á√ÉO: Garantir que a data da pr√≥xima visita seja mostrada corretamente
                if (dados.proximaVisita) {
                    let proximaVisitaParaInput = dados.proximaVisita;
                    if (dados.proximaVisita.includes('/')) {
                        const partes = dados.proximaVisita.split('/');
                        if (partes.length === 3) {
                            proximaVisitaParaInput = `${partes[2]}-${partes[1]}-${partes[0]}`;
                        }
                    }
                    document.getElementById('proxima-visita').value = proximaVisitaParaInput;
                } else {
                    document.getElementById('proxima-visita').value = '';
                }
                
                // Carregar imagem da velocidade, se existir
                if (dados.imagemVelocidade) {
                    imagemVelocidadeBase64 = dados.imagemVelocidade;
                    document.getElementById('image-preview').src = dados.imagemVelocidade;
                    document.getElementById('image-preview-container').style.display = 'block';
                } else {
                    imagemVelocidadeBase64 = null;
                    document.getElementById('image-preview-container').style.display = 'none';
                }
                
                // For√ßar atualiza√ß√£o do progresso
                setTimeout(atualizarProgresso, 100);
            }
            
            // Fun√ß√£o para validar formul√°rio
            function validarFormulario() {
                let valido = true;
                
                // Limpar mensagens de erro
                document.querySelectorAll('.validation-message').forEach(msg => {
                    msg.classList.remove('show');
                });
                
                document.querySelectorAll('.input-error').forEach(input => {
                    input.classList.remove('input-error');
                });
                
                // Validar data de atendimento
                const dataAtendimento = document.getElementById('data-atendimento').value;
                if (!dataAtendimento) {
                    document.getElementById('data-error').classList.add('show');
                    document.getElementById('data-atendimento').classList.add('input-error');
                    valido = false;
                }
                
                // Validar quantidade de computadores no lab (se lab existe)
                const existenciaLab = document.getElementById('existencia-lab').checked;
                const qtdLab = parseInt(document.getElementById('qtd-computador-lab').value);
                if (existenciaLab && (isNaN(qtdLab) || qtdLab < 0)) {
                    document.getElementById('lab-error').classList.add('show');
                    document.getElementById('qtd-computador-lab').classList.add('input-error');
                    valido = false;
                }
                
                return valido;
            }
            
            // Fun√ß√£o para salvar dados de uma escola espec√≠fica
            function salvarDadosEscola(escola) {
                if (!validarFormulario()) {
                    alert('Por favor, corrija os erros no formul√°rio antes de salvar.');
                    return false;
                }
                
                const progresso = atualizarProgresso();
                
                // CORRE√á√ÉO: Salvar datas sempre no formato DD/MM/YYYY para consist√™ncia
                const dataAtendimentoInput = document.getElementById('data-atendimento').value;
                const dataAtendimentoFormatada = dataAtendimentoInput ? formatarData(dataAtendimentoInput) : '';
                
                const proximaVisitaInput = document.getElementById('proxima-visita').value;
                const proximaVisitaFormatada = proximaVisitaInput ? formatarData(proximaVisitaInput) : '';
                
                dadosEscolas[escola] = {
                    dataAtendimento: dataAtendimentoFormatada,
                    existenciaLab: document.getElementById('existencia-lab').checked,
                    qtdComputadorLab: parseInt(document.getElementById('qtd-computador-lab').value) || 0,
                    admQtdComputador: parseInt(document.getElementById('adm-qtd-computador').value) || 0,
                    admQtdImpressora: parseInt(document.getElementById('adm-qtd-impressora').value) || 0,
                    qtdCompSalaProf: parseInt(document.getElementById('qtd-comp-sala-prof').value) || 0,
                    educacaoConectada: document.getElementById('educacao-conectada').checked,
                    voip: document.getElementById('voip').checked,
                    observacoes: document.getElementById('observacoes').value,
                    tecnicoResponsavel: document.getElementById('tecnico-responsavel').value,
                    statusGeral: document.getElementById('status-geral').value,
                    proximaVisita: proximaVisitaFormatada,
                    dataSalvamento: new Date().toISOString(),
                    progresso: progresso,
                    imagemVelocidade: imagemVelocidadeBase64
                };
                
                // Salvar no localStorage
                salvarDadosLocalStorage();
                
                // Atualizar lista de escolas e estat√≠sticas
                atualizarListaEscolas();
                atualizarEstatisticas();
                
                return true;
            }
            
            // Fun√ß√£o para visualizar relat√≥rio
            function visualizarRelatorio(escola) {
                if (!dadosEscolas[escola] || !dadosEscolas[escola].dataAtendimento) {
                    alert(`N√£o existem dados salvos para ${escola}. Por favor, salve o checklist primeiro.`);
                    return;
                }
                
                const dados = dadosEscolas[escola];
                const conteudoHTML = `
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <title>Relat√≥rio - ${escola}</title>
                        <meta charset="UTF-8">
                        <meta name="viewport" content="width=device-width, initial-scale=1.0">
                        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
                        <style>
                            @page {
                                margin: 15mm;
                                size: A4;
                            }
                            
                            body { 
                                font-family: 'Inter', 'Segoe UI', Arial, sans-serif; 
                                margin: 0;
                                color: #1f2937; 
                                background: white;
                                font-size: 11pt;
                                line-height: 1.4;
                            }
                            
                            .report-container {
                                width: 100%;
                                padding: 15px;
                            }
                            
                            .print-only {
                                display: block;
                            }
                            
                            .no-print {
                                display: none;
                            }
                            
                            h1 { 
                                color: #4f46e5; 
                                border-bottom: 2px solid #4f46e5; 
                                padding-bottom: 10px; 
                                margin-bottom: 20px;
                                font-size: 18pt;
                                text-align: center;
                                page-break-after: avoid;
                            }
                            
                            h2 { 
                                color: #374151; 
                                margin-top: 25px; 
                                margin-bottom: 10px;
                                padding-bottom: 5px; 
                                border-bottom: 1px solid #e5e7eb; 
                                font-size: 14pt;
                                page-break-after: avoid;
                            }
                            
                            .info-box { 
                                background: #f8fafc; 
                                padding: 15px; 
                                border-radius: 8px; 
                                border-left: 4px solid #4f46e5; 
                                margin: 15px 0; 
                                page-break-inside: avoid;
                            }
                            
                            .info-box p { 
                                margin: 5px 0; 
                                font-size: 11pt;
                            }
                            
                            table { 
                                width: 100%; 
                                border-collapse: collapse; 
                                margin: 15px 0; 
                                page-break-inside: avoid;
                            }
                            
                            th, td { 
                                border: 1px solid #d1d5db; 
                                padding: 8px; 
                                text-align: left; 
                                font-size: 10pt;
                            }
                            
                            th { 
                                background: #4f46e5; 
                                color: white; 
                                font-weight: 600;
                            }
                            
                            .status-badge { 
                                padding: 4px 8px; 
                                border-radius: 12px; 
                                font-weight: 600; 
                                display: inline-block;
                                font-size: 10pt;
                            }
                            
                            .concluido { background: #10b981; color: white; }
                            .andamento { background: #3b82f6; color: white; }
                            .pendente { background: #f59e0b; color: white; }
                            .pendente-corr { background: #ef4444; color: white; }
                            
                            .progress-bar { 
                                width: 100%; 
                                background: #e5e7eb; 
                                border-radius: 8px; 
                                height: 16px; 
                                margin: 8px 0; 
                                overflow: hidden;
                            }
                            
                            .progress-fill { 
                                height: 100%; 
                                background: linear-gradient(90deg, #4f46e5, #10b981); 
                                border-radius: 8px; 
                            }
                            
                            .section-break {
                                page-break-before: always;
                            }
                            
                            .observacoes-box {
                                background: #fef3c7;
                                border: 1px solid #fbbf24;
                                border-radius: 8px;
                                padding: 12px;
                                margin: 15px 0;
                                page-break-inside: avoid;
                            }
                            
                            .footer-note {
                                text-align: center;
                                color: #6b7280;
                                font-size: 9pt;
                                margin-top: 30px;
                                padding-top: 15px;
                                border-top: 1px solid #e5e7eb;
                                page-break-before: avoid;
                            }
                            
                            .header-logo {
                                text-align: center;
                                margin-bottom: 20px;
                            }
                            
                            .header-logo h2 {
                                color: #4f46e5;
                                margin: 0;
                                padding: 0;
                                border: none;
                            }
                            
                            .image-container {
                                text-align: center;
                                margin: 20px 0;
                                page-break-inside: avoid;
                            }
                            
                            .image-container img {
                                max-width: 100%;
                                max-height: 300px;
                                border-radius: 8px;
                                border: 1px solid #d1d5db;
                                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
                            }
                            
                            .image-caption {
                                font-size: 10pt;
                                color: #6b7280;
                                margin-top: 8px;
                                font-style: italic;
                            }
                            
                            @media screen {
                                body {
                                    margin: 20px;
                                    background: #f9fafb;
                                }
                                
                                .report-container {
                                    max-width: 800px;
                                    margin: 0 auto;
                                    background: white;
                                    padding: 30px;
                                    border-radius: 12px;
                                    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
                                }
                                
                                .print-button {
                                    position: fixed;
                                    top: 20px;
                                    right: 20px;
                                    padding: 12px 24px;
                                    background: linear-gradient(135deg, #4f46e5, #3730a3);
                                    color: white;
                                    border: none;
                                    border-radius: 10px;
                                    cursor: pointer;
                                    font-weight: 600;
                                    font-size: 11pt;
                                    box-shadow: 0 5px 15px rgba(79, 70, 229, 0.4);
                                    transition: all 0.3s;
                                    z-index: 1000;
                                }
                                
                                .print-button:hover {
                                    transform: translateY(-3px);
                                    box-shadow: 0 8px 20px rgba(79, 70, 229, 0.5);
                                }
                                
                                .back-button {
                                    position: fixed;
                                    top: 20px;
                                    left: 20px;
                                    padding: 12px 24px;
                                    background: #6b7280;
                                    color: white;
                                    border: none;
                                    border-radius: 10px;
                                    cursor: pointer;
                                    font-weight: 600;
                                    font-size: 11pt;
                                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
                                    transition: all 0.3s;
                                    z-index: 1000;
                                }
                                
                                .back-button:hover {
                                    background: #4b5563;
                                    transform: translateY(-3px);
                                }
                            }
                            
                            @media print {
                                body {
                                    margin: 0;
                                    padding: 0;
                                }
                                
                                .print-button, .back-button {
                                    display: none !important;
                                }
                                
                                .report-container {
                                    padding: 0;
                                    box-shadow: none;
                                    border-radius: 0;
                                }
                                
                                .no-print {
                                    display: none !important;
                                }
                                
                                .image-container img {
                                    max-height: 250px;
                                }
                            }
                        </style>
                    </head>
                    <body>
                        <button class="print-button no-print" onclick="window.print()">
                            <i class="fas fa-print"></i> Imprimir Relat√≥rio
                        </button>
                        
                        <button class="back-button no-print" onclick="window.close()">
                            <i class="fas fa-arrow-left"></i> Voltar
                        </button>
                        
                        <div class="report-container">
                            <div class="header-logo">
                                <h2><i class="fas fa-clipboard-check"></i> Checklist de Atendimento Escolar</h2>
                                <p style="color: #6b7280; margin-top: 5px;">Relat√≥rio T√©cnico - ${escola}</p>
                            </div>
                            
                            <div class="info-box">
                                <p><strong><i class="fas fa-calendar-alt"></i> Data do Atendimento:</strong> ${dados.dataAtendimento}</p>
                                ${dados.tecnicoResponsavel ? `<p><strong><i class="fas fa-user-tie"></i> T√©cnico Respons√°vel:</strong> ${dados.tecnicoResponsavel}</p>` : ''}
                                <p><strong><i class="fas fa-flag"></i> Status Geral:</strong> <span class="status-badge ${dados.statusGeral}">${dados.statusGeral.toUpperCase()}</span></p>
                                ${dados.proximaVisita ? `<p><strong><i class="fas fa-calendar-check"></i> Pr√≥xima Visita Sugerida:</strong> ${dados.proximaVisita}</p>` : ''}
                                <p><strong><i class="fas fa-chart-line"></i> Progresso do Checklist:</strong> ${dados.progresso || 0}%</p>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: ${dados.progresso || 0}%"></div>
                                </div>
                                <p><strong><i class="fas fa-clock"></i> Gerado em:</strong> ${new Date().toLocaleDateString('pt-BR')} √†s ${new Date().toLocaleTimeString('pt-BR', {hour: '2-digit', minute:'2-digit'})}</p>
                            </div>
                            
                            <h2><i class="fas fa-server"></i> Infraestrutura e Equipamentos</h2>
                            <table>
                                <tr>
                                    <th>Item</th>
                                    <th>Status/Quantidade</th>
                                </tr>
                                <tr>
                                    <td>Laborat√≥rio de Inform√°tica</td>
                                    <td>${dados.existenciaLab ? '<span class="status-badge concluido">‚úÖ DISPON√çVEL</span>' : '<span class="status-badge pendente">‚ùå INDISPON√çVEL</span>'}</td>
                                </tr>
                                <tr>
                                    <td>Computadores no Laborat√≥rio</td>
                                    <td><strong>${dados.qtdComputadorLab || 0}</strong> unidade(s)</td>
                                </tr>
                                <tr>
                                    <td>Computadores no ADM</td>
                                    <td><strong>${dados.admQtdComputador || 0}</strong> unidade(s)</td>
                                </tr>
                                <tr>
                                    <td>Impressoras no ADM</td>
                                    <td><strong>${dados.admQtdImpressora || 0}</strong> unidade(s)</td>
                                </tr>
                                <tr>
                                    <td>Computadores na Sala dos Professores</td>
                                    <td><strong>${dados.qtdCompSalaProf || 0}</strong> unidade(s)</td>
                                </tr>
                                <tr>
                                    <td>Educa√ß√£o Conectada (Internet)</td>
                                    <td>${dados.educacaoConectada ? '<span class="status-badge concluido">‚úÖ FUNCIONANDO</span>' : '<span class="status-badge pendente">‚ùå COM PROBLEMAS</span>'}</td>
                                </tr>
                                <tr>
                                    <td>Telefonia VoIP</td>
                                    <td>${dados.voip ? '<span class="status-badge concluido">‚úÖ FUNCIONANDO</span>' : '<span class="status-badge pendente">‚ùå COM PROBLEMAS</span>'}</td>
                                </tr>
                            </table>
                            
                            ${dados.imagemVelocidade ? `
                            <h2><i class="fas fa-tachometer-alt"></i> Print da Velocidade da Internet</h2>
                            <div class="image-container">
                                <img src="${dados.imagemVelocidade}" alt="Print da velocidade da internet">
                                <div class="image-caption">Teste de velocidade da internet realizado durante o atendimento</div>
                            </div>
                            ` : ''}
                            
                            <h2><i class="fas fa-sticky-note"></i> Observa√ß√µes</h2>
                            <div class="observacoes-box">
                                <p style="white-space: pre-line; line-height: 1.5; margin: 0;">${dados.observacoes || 'Nenhuma observa√ß√£o registrada.'}</p>
                            </div>
                            
                            <div class="footer-note">
                                Sistema de Checklist de Atendimento Escolar - Vers√£o 4.0<br>
                                Relat√≥rio gerado automaticamente. Documento v√°lido para registro t√©cnico.
                            </div>
                        </div>
                        
                        <script>
                            // Configurar impress√£o
                            window.onload = function() {
                                // Adicionar tratamento para evitar quebras de p√°gina inadequadas
                                const tables = document.querySelectorAll('table');
                                tables.forEach(table => {
                                    const tableHeight = table.offsetHeight;
                                    if (tableHeight > 500) { // Se a tabela for muito grande
                                        table.classList.add('section-break');
                                    }
                                });
                            };
                            
                            // Configurar atalho de teclado para impress√£o (Ctrl+P)
                            document.addEventListener('keydown', function(e) {
                                if (e.ctrlKey && e.key === 'p') {
                                    e.preventDefault();
                                    window.print();
                                }
                            });
                        <\/script>
                    </body>
                    </html>
                `;
                
                const janela = window.open('', '_blank', 'width=1024,height=768,scrollbars=yes');
                janela.document.write(conteudoHTML);
                janela.document.close();
            }
            
            // Manipula√ß√£o do upload de imagem
            document.getElementById('print-velocidade').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    // Verificar se √© uma imagem
                    if (!file.type.match('image.*')) {
                        alert('Por favor, selecione apenas arquivos de imagem.');
                        this.value = '';
                        return;
                    }
                    
                    // Verificar tamanho do arquivo (m√°ximo 5MB)
                    if (file.size > 5 * 1024 * 1024) {
                        alert('A imagem √© muito grande. Por favor, selecione uma imagem menor que 5MB.');
                        this.value = '';
                        return;
                    }
                    
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        imagemVelocidadeBase64 = e.target.result;
                        document.getElementById('image-preview').src = e.target.result;
                        document.getElementById('image-preview-container').style.display = 'block';
                    };
                    reader.readAsDataURL(file);
                }
            });
            
            // Remover imagem
            document.getElementById('remove-image-btn').addEventListener('click', function() {
                imagemVelocidadeBase64 = null;
                document.getElementById('image-preview').src = '';
                document.getElementById('image-preview-container').style.display = 'none';
                document.getElementById('print-velocidade').value = '';
            });
            
            // Event Listeners para bot√µes
            
            // Salvar checklist
            document.getElementById('salvar-checklist').addEventListener('click', function() {
                if (!escolaAtual) {
                    alert('Por favor, selecione uma escola primeiro.');
                    return;
                }
                
                const salvo = salvarDadosEscola(escolaAtual);
                if (salvo) {
                    // Feedback visual
                    const btn = this;
                    const originalText = btn.innerHTML;
                    btn.innerHTML = '<span class="spinner"></span> Salvando...';
                    btn.disabled = true;
                    
                    // Mostrar mensagem de sucesso
                    const successMessage = document.getElementById('save-success');
                    successMessage.classList.add('show');
                    
                    setTimeout(() => {
                        btn.innerHTML = originalText;
                        btn.disabled = false;
                        
                        // Destacar a escola salva com efeito de pulso
                        const schoolCard = document.querySelector(`.school-card[data-escola="${escolaAtual}"]`);
                        if (schoolCard) {
                            schoolCard.style.transform = 'scale(1.05)';
                            schoolCard.style.boxShadow = '0 20px 40px rgba(16, 185, 129, 0.3)';
                            
                            setTimeout(() => {
                                schoolCard.style.transform = '';
                                schoolCard.style.boxShadow = '';
                            }, 1000);
                        }
                        
                        // Ocultar mensagem de sucesso ap√≥s 3 segundos
                        setTimeout(() => {
                            successMessage.classList.remove('show');
                        }, 3000);
                    }, 1500);
                }
            });
            
            // Visualizar relat√≥rio
            document.getElementById('visualizar-checklist').addEventListener('click', function() {
                if (!escolaAtual) {
                    alert('Por favor, selecione uma escola primeiro.');
                    return;
                }
                
                const btn = this;
                const originalText = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Gerando Relat√≥rio...';
                btn.disabled = true;
                
                setTimeout(() => {
                    visualizarRelatorio(escolaAtual);
                    btn.innerHTML = originalText;
                    btn.disabled = false;
                }, 800);
            });
            
            // Limpar formul√°rio e zerar estat√≠stica da escola
            document.getElementById('limpar-checklist').addEventListener('click', function() {
                if (!escolaAtual) {
                    alert('Por favor, selecione uma escola primeiro.');
                    return;
                }
                
                if (confirm('Tem certeza que deseja limpar todos os dados deste formul√°rio? Isso ir√° resetar os dados salvos desta escola e zerar sua estat√≠stica.')) {
                    // Resetar os campos do formul√°rio para os valores padr√£o
                    document.getElementById('data-atendimento').value = hoje;
                    document.getElementById('existencia-lab').checked = false;
                    document.getElementById('qtd-computador-lab').value = 0;
                    document.getElementById('adm-qtd-computador').value = 0;
                    document.getElementById('adm-qtd-impressora').value = 0;
                    document.getElementById('qtd-comp-sala-prof').value = 0;
                    document.getElementById('educacao-conectada').checked = false;
                    document.getElementById('voip').checked = false;
                    document.getElementById('observacoes').value = '';
                    document.getElementById('tecnico-responsavel').value = '';
                    document.getElementById('status-geral').value = 'pendente';
                    document.getElementById('proxima-visita').value = '';
                    
                    // Resetar a imagem de velocidade
                    imagemVelocidadeBase64 = null;
                    document.getElementById('image-preview-container').style.display = 'none';
                    document.getElementById('image-preview').src = '';
                    document.getElementById('print-velocidade').value = '';
                    
                    // Limpar erros de valida√ß√£o
                    document.querySelectorAll('.validation-message').forEach(msg => {
                        msg.classList.remove('show');
                    });
                    document.querySelectorAll('.input-error').forEach(input => {
                        input.classList.remove('input-error');
                    });
                    
                    // Zerar estat√≠stica da escola no localStorage
                    dadosEscolas[escolaAtual] = {
                        dataAtendimento: '',
                        existenciaLab: false,
                        qtdComputadorLab: 0,
                        admQtdComputador: 0,
                        admQtdImpressora: 0,
                        qtdCompSalaProf: 0,
                        educacaoConectada: false,
                        voip: false,
                        observacoes: '',
                        tecnicoResponsavel: '',
                        statusGeral: 'pendente',
                        proximaVisita: '',
                        dataSalvamento: '',
                        progresso: 0,
                        imagemVelocidade: null
                    };
                    
                    // Salvar no localStorage
                    salvarDadosLocalStorage();
                    
                    // Atualizar lista de escolas
                    atualizarListaEscolas();
                    
                    // Atualizar estat√≠sticas
                    atualizarEstatisticas();
                    
                    // Atualizar a barra de progresso
                    atualizarProgresso();
                    
                    // Atualizar o card da escola na lista
                    const schoolCard = document.querySelector(`.school-card[data-escola="${escolaAtual}"]`);
                    if (schoolCard) {
                        schoolCard.classList.remove('selected');
                    }
                }
            });
            
            // Adicionar funcionalidade de atalhos de teclado
            document.addEventListener('keydown', function(e) {
                // Ctrl+S para salvar
                if (e.ctrlKey && e.key === 's') {
                    e.preventDefault();
                    document.getElementById('salvar-checklist').click();
                }
                
                // Ctrl+R para visualizar relat√≥rio
                if (e.ctrlKey && e.key === 'r') {
                    e.preventDefault();
                    document.getElementById('visualizar-checklist').click();
                }
                
                // Ctrl+E para exportar todos os dados
                if (e.ctrlKey && e.key === 'e') {
                    e.preventDefault();
                    const todosDados = {
                        dataExportacao: new Date().toISOString(),
                        totalEscolas: escolas.length,
                        escolas: dadosEscolas
                    };
                    
                    const dadosStr = JSON.stringify(todosDados, null, 2);
                    const blob = new Blob([dadosStr], { type: 'application/json' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `backup_checklist_${new Date().toISOString().split('T')[0]}.json`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                    
                    alert('Backup de todos os dados exportado com sucesso!');
                }
            });
            
            // Notifica√ß√£o inicial
            setTimeout(() => {
                if (!localStorage.getItem('checklistWelcomeShown')) {
                    alert('Bem-vindo ao Sistema de Checklist de Atendimento Escolar!\n\nDicas r√°pidas:\n1. Clique em uma escola para come√ßar\n2. Use Ctrl+S para salvar rapidamente\n3. Use Ctrl+R para visualizar relat√≥rio\n4. Seus dados s√£o salvos automaticamente');
                    localStorage.setItem('checklistWelcomeShown', 'true');
                }
            }, 1000);
        });
    </script>
</body>
</html>